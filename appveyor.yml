version: 1.0.{build}
image: Visual Studio 2017

before_build:
- cmd: nuget restore

build:
  project: XboxWebApi.sln
  verbosity: minimal

for:
-
  branches:
    only:
      - master
  
  build:
    publish_nuget: true

  nuget:
    account_feed: true
    project_feed: true
  
  deploy:
    provider: NuGet
    api_key:
      secure: abcdef
    skip_symbols: false
    
- 
  branches: 
    except: 
      - master